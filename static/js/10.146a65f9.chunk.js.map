{"version":3,"sources":["pages/UserProfile/Settings/EmailSetter/EmailSetter.module.scss","pages/UserProfile/Settings/PasswordSetter/PasswordSetter.module.scss","pages/UserProfile/Settings/LiqPaySetter/LiqPaySetter.module.scss","pages/UserProfile/Settings/Settings.module.scss","pages/UserProfile/Settings/EmailSetter/EmailSetter.js","pages/UserProfile/Settings/StatusSetter/StatusSetter.js","pages/UserProfile/Settings/PasswordSetter/PasswordSetter.js","pages/UserProfile/Settings/LiqPaySetter/LiqPaySetter.js","pages/UserProfile/Settings/Settings.js","components/Button/Button.js","hooks/useHttp.js","components/Button/btn.module.scss","components/ProfileTitle/ProfileTitle.js","components/ProfileTitle/ProfileTitle.module.scss","components/Input/Input.js","components/Input/input.module.scss","components/Select/Select.js","components/Select/Select.module.scss"],"names":["module","exports","EmailSetter","props","useState","newEmail","setNewEmail","emailError","setEmailError","useHttp","request","loading","token","useContext","authContext","submitNewEmail","e","a","preventDefault","email","Authorization","status","update","alert","console","log","Preloader","className","styles","emailChangeForm","Input","name","error","value","placeholder","disabled","onChange","target","test","Button","text","onClick","StatusSetter","submitNewStatus","active","message","select","Select","label","options","id","theme","PasswordSetter","oldPassword","setoldPassword","newPassword","setNewPassword","newPasswordConfirm","setNewPasswordConfirm","submitNewPassword","passwordChangeForm","type","invisible","LiqPaySetter","liqpayAccount","setLiqpayAccount","submitNewLiqPayAccount","bankForm","currentlyOnly","href","Settings","setStatus","setEmail","fetchData","useCallback","response","useEffect","ProfileTitle","title","subTitle","SettingBlock","SettingsBlockTitle","filled","disabledButton","loadingButton","filledButton","plainButton","setLoading","setError","url","method","body","headers","presentation_link","fetch","JSON","stringify","json","data","ok","Error","clearError","titleWrap","required","minLength","maxlength","visible","setVisible","inputWrap","maxLength","filledInput","seePassword","style","backgroundImage","inputError","selected","selectWrap","htmlFor","selectLabel","selectReg","filledCommon","selectCommon","map","option","key","selectEerror"],"mappings":"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","file":"static/js/10.146a65f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"emailChangeForm\":\"EmailSetter_emailChangeForm__1XRgT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"passwordChangeForm\":\"PasswordSetter_passwordChangeForm__1fHCD\",\"invisible\":\"PasswordSetter_invisible__1wiua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"bankForm\":\"LiqPaySetter_bankForm__30Y9W\",\"currentlyOnly\":\"LiqPaySetter_currentlyOnly__35kXS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"SettingBlock\":\"Settings_SettingBlock__3Llp6\",\"select\":\"Settings_select__2nIJA\",\"Input\":\"Settings_Input__1bSLW\",\"SettingsBlockTitle\":\"Settings_SettingsBlockTitle__1FR2E\"};","import React, { useContext, useState } from \"react\";\r\nimport Button from \"../../../../components/Button/Button\";\r\nimport Input from \"../../../../components/Input/Input\";\r\nimport Preloader from \"../../../../components/Preloader/Preloader\";\r\nimport authContext from \"../../../../context/auth.context\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\n\r\nimport styles from \"./EmailSetter.module.scss\";\r\n\r\nconst EmailSetter = (props) => {\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const { request, loading } = useHttp();\r\n  const { token } = useContext(authContext);\r\n\r\n  const validateEmail = (email) => {\r\n    if (email === \"\") {\r\n      setEmailError(\"\");\r\n    } else if (email === props.email) {\r\n      setEmailError(\"Почтовый адрес не изменён\");\r\n    } else {\r\n      if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(email)) {\r\n        setEmailError(\"Неверный формат\");\r\n      } else {\r\n        setEmailError(\"\");\r\n      }\r\n    }\r\n  };\r\n  const submitNewEmail = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await request(\r\n        \"/api/v1.0/user\",\r\n        \"PUT\",\r\n        { email: newEmail },\r\n        { Authorization: `Bearer ${token}` }\r\n      );\r\n      if (response.status === 200) {\r\n        setNewEmail(\"\");\r\n        props.update();\r\n        alert(\"Данные успешно обновлены!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return loading ? (\r\n    <Preloader />\r\n  ) : (\r\n    <form className={styles.emailChangeForm}>\r\n      <Input\r\n        name={\"old-email\"}\r\n        error={false}\r\n        value={\"\"}\r\n        placeholder={props.email}\r\n        disabled={true}\r\n      />\r\n      <Input\r\n        name={\"new-email\"}\r\n        error={emailError}\r\n        value={newEmail}\r\n        onChange={(e) => {\r\n          validateEmail(e.target.value);\r\n          setNewEmail(e.target.value);\r\n        }}\r\n        placeholder=\"Введите новый e-mail\"\r\n      />\r\n      <Button\r\n        text=\"Обновить e-mail\"\r\n        onClick={submitNewEmail}\r\n        disabled={\r\n          newEmail === \"\" || newEmail === props.email || emailError !== \"\"\r\n        }\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EmailSetter;\r\n","import React, { useContext } from \"react\";\r\nimport Preloader from \"../../../../components/Preloader/Preloader\";\r\nimport Select from \"../../../../components/Select/Select\";\r\nimport authContext from \"../../../../context/auth.context\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\n\r\nimport styles from \"./StatusSetter.module.scss\";\r\n\r\nconst StatusSetter = (props) => {\r\n  const { token } = useContext(authContext);\r\n  const { request, loading } = useHttp();\r\n  const submitNewStatus = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await request(\r\n        \"/api/v1.0/profile/user/settings\",\r\n        \"PUT\",\r\n        { active: e.target.value === \"Активный\" },\r\n        { Authorization: `Bearer ${token}` }\r\n      );\r\n      if (response.status === 200) {\r\n        props.update();\r\n        alert(\"Данные успешно обновлены!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className={styles.select}>\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <Select\r\n          label={\"Статус\"}\r\n          options={[{ text: \"Активный\" }, { text: \"Неактивный\" }]}\r\n          id={\"select\"}\r\n          theme={\"\"}\r\n          value={props.status}\r\n          onChange={submitNewStatus}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusSetter;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"../../../../components/Button/Button\";\r\nimport Input from \"../../../../components/Input/Input\";\r\n\r\nimport styles from \"./PasswordSetter.module.scss\";\r\n\r\nconst PasswordSetter = () => {\r\n  const [oldPassword, setoldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [newPasswordConfirm, setNewPasswordConfirm] = useState(\"\");\r\n\r\n  const submitNewPassword = async (e) => {\r\n    e.preventDefault();\r\n    // try {\r\n    //   const response = await request(\r\n    //     \"/\",\r\n    //     \"PUT\",\r\n    //     {},\r\n    //     { Authorization: `Bearer ${token}` }\r\n    //   );\r\n    //   console.log(response);\r\n    // } catch (error) {\r\n    //   console.log(error);\r\n    // }\r\n  };\r\n  return (\r\n    <form className={styles.passwordChangeForm}>\r\n      <Input\r\n        name={\"old-password\"}\r\n        value={oldPassword}\r\n        onChange={(e) => setoldPassword(e.target.value)}\r\n        error={\"\"}\r\n        type=\"password\"\r\n        placeholder=\"Введите старый пароль\"\r\n      />\r\n      <div className={styles.invisible}></div>\r\n      <Input\r\n        name={\"old-password\"}\r\n        type=\"password\"\r\n        error={false}\r\n        value={newPassword}\r\n        onChange={(e) => setNewPassword(e.target.value)}\r\n        placeholder=\"Введите новый пароль\"\r\n      />\r\n      <Input\r\n        name={\"old-password\"}\r\n        type=\"password\"\r\n        error={false}\r\n        value={newPasswordConfirm}\r\n        onChange={(e) => setNewPasswordConfirm(e.target.value)}\r\n        placeholder=\"Повторите новый пароль\"\r\n      />\r\n      <Button text={\"Обновить пароль\"} onClick={submitNewPassword} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PasswordSetter;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"../../../../components/Button/Button\";\r\nimport Input from \"../../../../components/Input/Input\";\r\n\r\nimport styles from \"./LiqPaySetter.module.scss\";\r\nconst LiqPaySetter = () => {\r\n  const [liqpayAccount, setLiqpayAccount] = useState(\"\");\r\n\r\n  const submitNewLiqPayAccount = async (e) => {\r\n    e.preventDefault();\r\n    // try {\r\n    //   const response = await request(\r\n    //     \"/\",\r\n\r\n    //     \"PUT\",\r\n\r\n    //     {},\r\n\r\n    //     { Authorization: `Bearer ${token}` }\r\n    //   );\r\n\r\n    //   console.log(response);\r\n    // } catch (error) {\r\n    //   console.log(error);\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <form className={styles.bankForm}>\r\n      <div className={styles.currentlyOnly}>\r\n        На данный момент мы работаем только с LiqPay.\r\n      </div>\r\n      <div>\r\n        <a href={\"#\"}>Как настроить свой аккаунт LiqPay?</a>\r\n      </div>\r\n      <Input\r\n        placeholder={\"LiqPay аккаунт\"}\r\n        name={\"liqpay-account\"}\r\n        error={false}\r\n        value={liqpayAccount}\r\n        onChange={(e) => setLiqpayAccount(e.target.value)}\r\n      />\r\n      <div>\r\n        <a href={\"#\"}>Привязать другую карту</a>\r\n      </div>\r\n      <Button text={\"Привязать аккаунт\"} onClick={submitNewLiqPayAccount} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default LiqPaySetter;\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport ProfileTitle from \"../../../components/ProfileTitle/ProfileTitle\";\r\nimport EmailSetter from \"./EmailSetter/EmailSetter\";\r\nimport StatusSetter from \"./StatusSetter/StatusSetter\";\r\nimport PasswordSetter from \"./PasswordSetter/PasswordSetter\";\r\nimport LiqPaySetter from \"./LiqPaySetter/LiqPaySetter\";\r\nimport Preloader from \"../../../components/Preloader/Preloader\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport authContext from \"../../../context/auth.context\";\r\n\r\nimport styles from \"./Settings.module.scss\";\r\n\r\nconst Settings = () => {\r\n  const [status, setStatus] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const { request } = useHttp();\r\n  const { token } = useContext(authContext);\r\n  const fetchData = useCallback(async () => {\r\n    setEmail(\"\");\r\n    try {\r\n      const response = await request(\"/api/v1.0/auth/user/\", \"GET\", null, {\r\n        Authorization: `Bearer ${token}`,\r\n      });\r\n      if (response.status === 200) {\r\n        setEmail(response.email);\r\n        setStatus(response.active ? \"Активный\" : \"Неактивный\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [request, token]);\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n  return email ? (\r\n    <div>\r\n      <ProfileTitle\r\n        title={\"Настройки\"}\r\n        subTitle={\"Изменить настройки своего профиля вы можете здесь.\"}\r\n      />\r\n\r\n      <div className={styles.SettingBlock}>\r\n        <h3 className={styles.SettingsBlockTitle}>Статус профиля</h3>\r\n        <StatusSetter status={status} update={fetchData} />\r\n      </div>\r\n\r\n      <div className={styles.SettingBlock}>\r\n        <h3 className={styles.SettingsBlockTitle}>\r\n          Политика конфиденциальности\r\n        </h3>\r\n        <div>\r\n          Ваша политика конфиденциальности стандартная.{\" \"}\r\n          <a href={\"#\"}>Подробнее</a>\r\n        </div>\r\n      </div>\r\n      <div className={styles.SettingBlock}>\r\n        <h3 className={styles.SettingsBlockTitle}>Изменить пароль</h3>\r\n        <PasswordSetter />\r\n      </div>\r\n      <div className={styles.SettingBlock}>\r\n        <h3 className={styles.SettingsBlockTitle}>Изменить e-mail</h3>\r\n        <EmailSetter email={email} update={fetchData} />\r\n      </div>\r\n      <div className={styles.SettingBlock}>\r\n        <h3 className={styles.SettingsBlockTitle}>Банковские данные</h3>\r\n        <LiqPaySetter />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Preloader />\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport styles from \"./btn.module.scss\";\r\n\r\nconst Button = ({\r\n  text,\r\n  filled = true,\r\n  onClick = () => true,\r\n  disabled = false,\r\n  type,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={\r\n        disabled\r\n          ? styles.disabledButton\r\n          : loading\r\n          ? styles.loadingButton\r\n          : filled\r\n          ? styles.filledButton\r\n          : styles.plainButton\r\n      }\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const request = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setLoading(true);\r\n      try {\r\n        if (body) {\r\n          headers[\"Content-Type\"] = \"application/json\";\r\n          headers[\"Accept\"] = \"application/json\";\r\n        }\r\n        const presentation_link = \"https://api.beautylinks.com\"; //  replace this with ngrok when nessesary\r\n        const response = await fetch(presentation_link + url, {\r\n          method,\r\n          body: body ? JSON.stringify(body) : null,\r\n          headers,\r\n        });\r\n        console.log(response);\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            data.message ||\r\n              \"Something went wrong. Check your internet connection.\"\r\n          );\r\n        }\r\n\r\n        setLoading(false);\r\n        return { ...data, status: response.status };\r\n      } catch (e) {\r\n        setLoading(false);\r\n        setError(e.message);\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  return { loading, request, error, clearError };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"filledButton\":\"btn_filledButton__2I0A7\",\"plainButton\":\"btn_plainButton__dNEOV\",\"loadingButton\":\"btn_loadingButton__2Nqzw\",\"disabledButton\":\"btn_disabledButton__2Adg1\"};","import React from \"react\";\r\n\r\nimport styles from \"./ProfileTitle.module.scss\";\r\n\r\nconst ProfileTitle = ({ title, subTitle }) => {\r\n  return (\r\n    <div className={styles.titleWrap}>\r\n      <h3 className={styles.title}>{title}</h3>\r\n      <h4 className={styles.subTitle}>{subTitle}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileTitle;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"titleWrap\":\"ProfileTitle_titleWrap__sURJO\",\"title\":\"ProfileTitle_title__2dCYb\",\"subTitle\":\"ProfileTitle_subTitle__OBGgs\"};","import React, { useState } from \"react\";\r\nimport styles from \"./input.module.scss\";\r\n\r\nconst Input = ({\r\n  name,\r\n  type = \"text\",\r\n  required = false,\r\n  disabled = false,\r\n  minLength = 0,\r\n  maxlength = 200,\r\n  error = null,\r\n  value,\r\n  onChange,\r\n  placeholder = \"\",\r\n  filled = false,\r\n}) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.inputWrap}>\r\n      <input\r\n        placeholder={placeholder}\r\n        type={visible ? \"text\" : type}\r\n        id={name}\r\n        name={name}\r\n        minLength={minLength}\r\n        maxLength={maxlength}\r\n        required={required}\r\n        value={value}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        className={filled ? styles.filledInput : styles.Input}\r\n      />\r\n      {type === \"password\" && (\r\n        <div\r\n          className={styles.seePassword}\r\n          onClick={() => setVisible(!visible)}\r\n          style={\r\n            !visible\r\n              ? { backgroundImage: `url('/assets/img/icons/unvis.png')` }\r\n              : { backgroundImage: `url('/assets/img/icons/vis.png')` }\r\n          }\r\n        ></div>\r\n      )}\r\n      {error && <span className={styles.inputError}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"input_inputWrap__YFzyn\",\"Input\":\"input_Input__30CPJ\",\"filledInput\":\"input_filledInput__2GsRC\",\"inputError\":\"input_inputError__2REtn\",\"seePassword\":\"input_seePassword__2UZ2y\"};","import React from \"react\";\r\n\r\nimport styles from \"./Select.module.scss\";\r\n\r\nconst Select = ({\r\n  theme = \"reg\",\r\n  filled = false,\r\n  label,\r\n  options,\r\n  id,\r\n  error = null,\r\n  required = false,\r\n  value,\r\n  onChange,\r\n  selected = 0\r\n}) => {\r\n  return (\r\n    <div className={styles.selectWrap}>\r\n      {theme === \"reg\" && (\r\n        <label htmlFor={id} className={styles.selectLabel}>\r\n          {label}\r\n        </label>\r\n      )}\r\n\r\n      <select\r\n        id={id}\r\n        name={id}\r\n        className={\r\n          theme === \"reg\"\r\n            ? styles.selectReg\r\n            : filled\r\n            ? styles.filledCommon\r\n            : styles.selectCommon\r\n        }\r\n        required={required}\r\n        value={value}\r\n        onChange={onChange}\r\n      >\r\n        {options.map((option, key) => {\r\n          console.log(key===selected)\r\n          return <option key={key} selected={key===selected}>{option.text}</option>;\r\n        })}\r\n      </select>\r\n      {error && <span className={styles.selectEerror}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectWrap\":\"Select_selectWrap__6arWj\",\"selectLabel\":\"Select_selectLabel__28TcV\",\"selectReg\":\"Select_selectReg__uibxE\",\"selectCommon\":\"Select_selectCommon__1g4aG\",\"filledCommon\":\"Select_filledCommon__16gEa\",\"selectError\":\"Select_selectError__3jWHM\"};"],"sourceRoot":""}