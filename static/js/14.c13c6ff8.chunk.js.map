{"version":3,"sources":["components/Switcher/Switcher.module.scss","components/TimeInput/TimeInput.js","components/TimeInput/TimeInput.module.scss","pages/UserProfile/WorkingHoursPage/WorkingHoursPage.module.scss","pages/UserProfile/WorkingHoursPage/WorkingHoursPage.js","components/Button/Button.js","hooks/useHttp.js","components/Button/btn.module.scss","components/ProfileTitle/ProfileTitle.js","components/ProfileTitle/ProfileTitle.module.scss","components/Switcher/Switcher.js"],"names":["module","exports","TimeInput","label","id","required","disabled","onChange","value","className","styles","timeWrap","htmlFor","timeLabel","type","name","timeInput","ScheduleDay","day","setDay","setDisableSubmit","scheduleType","style","active","opacity","dayTitle","dayTime","available","from","event","dayUpdate","target","inputSep","to","borderColor","state","switchState","onClick","emptyDay","WorkingHoursPage","useState","update","triggerUpdate","mobile","monday","tuesday","wednesday","thursday","friday","saturday","sunday","salon","workingHoursData","setWorkingHoursData","setScheduleType","disableSubmit","token","useContext","authContext","useHttp","request","loading","setFetchedData","preparedSalon","JSON","parse","stringify","hasOwnProperty","preparedMobile","fetchSchedule","useCallback","a","Authorization","response","Object","values","useEffect","prepareData","readyData","key","result","13","length","updateSchedule","console","log","status","alert","title","subTitle","scheduleWrap","scheduleTypes","typeDisabled","scheduleDays","entries","map","dayArray","text","Button","filled","disabledButton","loadingButton","filledButton","plainButton","setLoading","error","setError","url","method","body","headers","presentation_link","fetch","json","data","ok","Error","message","clearError","ProfileTitle","titleWrap","Switch","switchBody","backgroundColor","switcher","transform"],"mappings":"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","file":"static/js/14.c13c6ff8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"switchBody\":\"Switcher_switchBody__2y9Sb\",\"switcher\":\"Switcher_switcher__1Mtyz\"};","import React from \"react\";\r\n\r\nimport styles from \"./TimeInput.module.scss\";\r\n\r\nconst TimeInput = ({\r\n  label,\r\n  id,\r\n  required = false,\r\n  disabled,\r\n  onChange,\r\n  value,\r\n}) => {\r\n  return (\r\n    <div className={styles.timeWrap}>\r\n      <label htmlFor={id} className={styles.timeLabel}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        value={value}\r\n        type={\"time\"}\r\n        id={id}\r\n        name={id}\r\n        className={styles.timeInput}\r\n        required={required}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimeInput;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeWrap\":\"TimeInput_timeWrap__2_61r\",\"timeLabel\":\"TimeInput_timeLabel__31_Kw\",\"timeInput\":\"TimeInput_timeInput__1nACJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"scheduleWrap\":\"WorkingHoursPage_scheduleWrap__mT47a\",\"scheduleTypes\":\"WorkingHoursPage_scheduleTypes__2P6eL\",\"typeDisabled\":\"WorkingHoursPage_typeDisabled__8XgFz\",\"scheduleDays\":\"WorkingHoursPage_scheduleDays__2UGog\",\"day\":\"WorkingHoursPage_day__2eUrs\",\"dayTitle\":\"WorkingHoursPage_dayTitle__3p3It\",\"dayTime\":\"WorkingHoursPage_dayTime__2-uoX\",\"inputSep\":\"WorkingHoursPage_inputSep__LW2fI\"};","import React, { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport ProfileTitle from \"../../../components/ProfileTitle/ProfileTitle\";\r\nimport Button from \"../../../components/Button/Button\";\r\nimport TimeInput from \"../../../components/TimeInput/TimeInput\";\r\nimport Switcher from \"../../../components/Switcher/Switcher\";\r\nimport Preloader from \"../../../components/Preloader/Preloader\";\r\n\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport authContext from \"../../../context/auth.context\";\r\nimport styles from \"./WorkingHoursPage.module.scss\";\r\n\r\nconst ScheduleDay = ({ day, setDay, scheduleType, setDisableSubmit }) => {\r\n  const setActive = (active) => {\r\n    day.active = active;\r\n    day.available = {};\r\n    setDay(day);\r\n  };\r\n\r\n  return (\r\n    <li\r\n      className={styles.day}\r\n      style={!day.active ? { opacity: \"0.5\" } : { opacity: \"1\" }}\r\n    >\r\n      <span className={styles.dayTitle}>{day.name}</span>\r\n      <div className={styles.dayTime}>\r\n        <TimeInput\r\n          label={\"C\"}\r\n          id={`${day.id}_from`}\r\n          value={day?.available?.from || \"\"}\r\n          onChange={(event) => {\r\n            const dayUpdate = { ...day };\r\n            dayUpdate.available.from = event.target.value;\r\n            setDay(dayUpdate);\r\n          }}\r\n          disabled={!day.active ? true : false}\r\n        />\r\n        <div className={styles.inputSep}></div>\r\n        <TimeInput\r\n          label={\"До\"}\r\n          id={`${day.id}_until`}\r\n          value={day?.available?.to || \"\"}\r\n          onChange={(event) => {\r\n            event.target.style.borderColor = \"#c4c4c4\";\r\n            day.available.to = event.target.value;\r\n            if (event.target.value <= day?.available?.from) {\r\n              event.target.style.borderColor = \"#cb2026\";\r\n            }\r\n            setDisableSubmit(event.target.value <= day?.available?.from);\r\n            setDay(day);\r\n          }}\r\n          disabled={!day.active ? true : false}\r\n        />\r\n      </div>\r\n      <Switcher\r\n        state={day.active}\r\n        switchState={setActive}\r\n        onClick={() => {\r\n          const emptyDay = { name: day.name };\r\n          setDay(emptyDay);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nconst WorkingHoursPage = () => {\r\n  const [update, triggerUpdate] = useState(0);\r\n  const [workingHoursData, setWorkingHoursData] = useState({\r\n    mobile: {\r\n      monday: { name: \"Понедельник\" },\r\n      tuesday: { name: \"Вторник\" },\r\n      wednesday: { name: \"Среда\" },\r\n      thursday: { name: \"Четверг\" },\r\n      friday: { name: \"Пятница\" },\r\n      saturday: { name: \"Суббота\" },\r\n      sunday: { name: \"Воскресенье\" },\r\n    },\r\n    salon: {\r\n      monday: { name: \"Понедельник\" },\r\n      tuesday: { name: \"Вторник\" },\r\n      wednesday: { name: \"Среда\" },\r\n      thursday: { name: \"Четверг\" },\r\n      friday: { name: \"Пятница\" },\r\n      saturday: { name: \"Суббота\" },\r\n      sunday: { name: \"Воскресенье\" },\r\n    },\r\n  });\r\n  const [scheduleType, setScheduleType] = useState(\"salon\");\r\n  const [disableSubmit, setDisableSubmit] = useState(false);\r\n  const { token } = useContext(authContext);\r\n  const { request, loading } = useHttp();\r\n\r\n  const setFetchedData = (salon, mobile) => {\r\n    if (salon !== null) {\r\n      const preparedSalon = JSON.parse(JSON.stringify(workingHoursData.salon));\r\n      for (const day in preparedSalon) {\r\n        if (preparedSalon.hasOwnProperty(day)) {\r\n          preparedSalon[day] = {\r\n            ...preparedSalon[day],\r\n            ...salon[day],\r\n            active: salon[day]?.available ? true : false,\r\n          };\r\n        }\r\n      }\r\n      setWorkingHoursData({ ...workingHoursData, salon: preparedSalon });\r\n    }\r\n    if (mobile !== null) {\r\n      const preparedMobile = JSON.parse(\r\n        JSON.stringify(workingHoursData.mobile)\r\n      );\r\n      for (const day in preparedMobile) {\r\n        if (preparedMobile.hasOwnProperty(day)) {\r\n          preparedMobile[day] = {\r\n            ...preparedMobile[day],\r\n            ...mobile[day],\r\n            active: mobile[day]?.available ? true : false,\r\n          };\r\n        }\r\n      }\r\n      setWorkingHoursData({ ...workingHoursData, mobile: preparedMobile });\r\n    }\r\n  };\r\n  const fetchSchedule = useCallback(async () => {\r\n    const response = await request(\r\n      \"/api/v1.0/profile/master/availability\",\r\n      \"GET\",\r\n      null,\r\n      {\r\n        Authorization: `Bearer ${token}`,\r\n      }\r\n    );\r\n    const salon = response.salon ? Object.values(response.salon)[0] : null;\r\n    const mobile = response.mobile ? Object.values(response.mobile)[0] : null;\r\n    setFetchedData(salon, mobile);\r\n  }, [request, token]);\r\n\r\n  useEffect(() => {\r\n    fetchSchedule();\r\n  }, [fetchSchedule]);\r\n\r\n  const prepareData = () => {\r\n    const readyData = JSON.parse(JSON.stringify(workingHoursData));\r\n    for (const key in readyData.salon) {\r\n      if (readyData.salon.hasOwnProperty(key)) {\r\n        if (!readyData.salon[key].active) {\r\n          delete readyData.salon[key].available;\r\n        }\r\n        delete readyData.salon[key].name;\r\n        delete readyData.salon[key].active;\r\n      }\r\n    }\r\n    for (const key in readyData.mobile) {\r\n      if (readyData.mobile.hasOwnProperty(key)) {\r\n        if (!readyData.mobile[key].active) {\r\n          delete readyData.mobile[key].available;\r\n        }\r\n        delete readyData.mobile[key].name;\r\n        delete readyData.mobile[key].active;\r\n      }\r\n    }\r\n    const result = {\r\n      salon: { 13: readyData.salon },\r\n      mobile: { ...readyData.mobile },\r\n    };\r\n    if (Object.values(result.mobile).length === 0) {\r\n      delete result.mobile;\r\n    }\r\n    if (Object.values(result.salon).length === 0) {\r\n      delete result.salon;\r\n    }\r\n    return result;\r\n  };\r\n  const updateSchedule = async () => {\r\n    try {\r\n      const readyData = prepareData();\r\n      console.log(readyData);\r\n      const response = await request(\r\n        \"/api/v1.0/profile/master/availability\",\r\n        \"PUT\",\r\n        readyData,\r\n        { Authorization: `Bearer ${token}` }\r\n      );\r\n      if (response.status === 200) {\r\n        alert(\"Рассписание было успешно обновлено!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Что-то пошло не так, повторите запрос или попробуйте позже.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ProfileTitle\r\n        title={\"Рабочие часы\"}\r\n        subTitle={\r\n          \"Здесь вы можете  контролировать своё время  и вносить изменения в свой рабочий график.\"\r\n        }\r\n      />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <>\r\n          <div className={styles.scheduleWrap}>\r\n            <div className={styles.scheduleTypes}>\r\n              <li\r\n                className={\r\n                  scheduleType !== \"salon\" ? styles.typeDisabled : styles.type\r\n                }\r\n                onClick={() => {\r\n                  setScheduleType(\"salon\");\r\n                }}\r\n              >\r\n                Салон\r\n              </li>\r\n              <li\r\n                className={\r\n                  scheduleType !== \"mobile\" ? styles.typeDisabled : styles.type\r\n                }\r\n                onClick={() => {\r\n                  setScheduleType(\"mobile\");\r\n                }}\r\n              >\r\n                Выездные услуги\r\n              </li>\r\n            </div>\r\n            <form className={styles.scheduleDays} id={\"scheduleForm\"}>\r\n              {Object.entries(workingHoursData[scheduleType]).map(\r\n                (dayArray, key) => {\r\n                  return (\r\n                    <ScheduleDay\r\n                      key={key}\r\n                      day={dayArray[1]}\r\n                      scheduleType={scheduleType}\r\n                      setDay={(day) => {\r\n                        workingHoursData[scheduleType][dayArray[0]] = day;\r\n                        setWorkingHoursData(workingHoursData);\r\n                        triggerUpdate(update + 1);\r\n                      }}\r\n                      setDisableSubmit={setDisableSubmit}\r\n                    />\r\n                  );\r\n                }\r\n              )}\r\n            </form>\r\n          </div>\r\n          <Button\r\n            text={\"Обновить рассписание\"}\r\n            onClick={() => updateSchedule()}\r\n            disabled={disableSubmit}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkingHoursPage;\r\n","import React from \"react\";\r\nimport styles from \"./btn.module.scss\";\r\n\r\nconst Button = ({\r\n  text,\r\n  filled = true,\r\n  onClick = () => true,\r\n  disabled = false,\r\n  type,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={\r\n        disabled\r\n          ? styles.disabledButton\r\n          : loading\r\n          ? styles.loadingButton\r\n          : filled\r\n          ? styles.filledButton\r\n          : styles.plainButton\r\n      }\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const request = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setLoading(true);\r\n      try {\r\n        if (body) {\r\n          headers[\"Content-Type\"] = \"application/json\";\r\n          headers[\"Accept\"] = \"application/json\";\r\n        }\r\n        const presentation_link = \"https://api.beautylinks.com\"; //  replace this with ngrok when nessesary\r\n        const response = await fetch(presentation_link + url, {\r\n          method,\r\n          body: body ? JSON.stringify(body) : null,\r\n          headers,\r\n        });\r\n        console.log(response);\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            data.message ||\r\n              \"Something went wrong. Check your internet connection.\"\r\n          );\r\n        }\r\n\r\n        setLoading(false);\r\n        return { ...data, status: response.status };\r\n      } catch (e) {\r\n        setLoading(false);\r\n        setError(e.message);\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  return { loading, request, error, clearError };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"filledButton\":\"btn_filledButton__2I0A7\",\"plainButton\":\"btn_plainButton__dNEOV\",\"loadingButton\":\"btn_loadingButton__2Nqzw\",\"disabledButton\":\"btn_disabledButton__2Adg1\"};","import React from \"react\";\r\n\r\nimport styles from \"./ProfileTitle.module.scss\";\r\n\r\nconst ProfileTitle = ({ title, subTitle }) => {\r\n  return (\r\n    <div className={styles.titleWrap}>\r\n      <h3 className={styles.title}>{title}</h3>\r\n      <h4 className={styles.subTitle}>{subTitle}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileTitle;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"titleWrap\":\"ProfileTitle_titleWrap__sURJO\",\"title\":\"ProfileTitle_title__2dCYb\",\"subTitle\":\"ProfileTitle_subTitle__OBGgs\"};","import React from \"react\";\r\n\r\nimport styles from \"./Switcher.module.scss\";\r\n\r\nconst Switch = ({ state, switchState, onClick = () => true }) => {\r\n  return (\r\n    <div\r\n      className={styles.switchBody}\r\n      onClick={() => {\r\n        onClick();\r\n        switchState(!state);\r\n      }}\r\n      style={\r\n        state\r\n          ? { backgroundColor: \"var(--main-blue)\" }\r\n          : { backgroundColor: \"rgba(120, 120, 128, 0.16)\" }\r\n      }\r\n    >\r\n      <div\r\n        className={styles.switcher}\r\n        style={\r\n          state\r\n            ? { transform: \"translateX(70%)\" }\r\n            : { transform: \"translateX(0)\" }\r\n        }\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Switch;\r\n"],"sourceRoot":""}