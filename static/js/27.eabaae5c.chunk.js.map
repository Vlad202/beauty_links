{"version":3,"sources":["pages/SeacrhPage/SearchPage.module.scss","pages/SeacrhPage/SeacrhPage.js"],"names":["module","exports","SearchPage","history","useHistory","useState","location","state","searchAddress","setSearchAddress","searchCategory","setSearchCategory","servs","services","categories","useHttp","request","map","s","Object","text","name","className","styles","searchPageWrap","leftBg","searchPageContent","searchTitle","title","id","src","frameborder","scrolling","marginheight","marginwidth","searchForm","filled","type","options","theme","indexOf","find","onClick","event","preventDefault","target","parentElement","elements","value","hint","rightBg"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,WAAW,QAAQ,SAAW,QAAQ,SAAW,QAAQ,SAAW,QAAQ,SAAW,SAAS,SAAW,SAAS,eAAiB,mCAAmC,QAAU,4BAA4B,OAAS,2BAA2B,kBAAoB,sCAAsC,YAAc,gCAAgC,WAAa,+BAA+B,IAAM,wBAAwB,KAAO,2B,6ICiF9aC,UArEI,WAAO,IAAD,EACjBC,EAAUC,cADO,EAEmBC,mBAASF,EAAQG,SAASC,MAAMC,eAAiB,0FAFpE,mBAEhBA,EAFgB,KAEDC,EAFC,OAGqBJ,mBAASF,EAAQG,SAASC,MAAMG,gBAAkB,IAHvE,mBAGhBA,EAHgB,KAGAC,EAHA,OAISN,mBAASO,GAJlB,mBAIhBC,EAJgB,KAoBjBC,GApBiB,KAKHC,cAAZC,QAeWH,EAASI,KAAI,SAACC,GAAD,OAAO,IAAIC,OAAO,CAAEC,KAAMF,EAAEG,WAE5D,OACE,yBAAKC,UAAWC,IAAOC,gBACrB,yBAAKF,UAAWC,IAAOE,SACvB,yBAAKH,UAAWC,IAAOG,mBACrB,wBAAIJ,UAAWC,IAAOI,aAAtB,kCACA,4BACEC,MAAO,mBACPN,UAAWC,IAAON,IAClBY,GAAI,cACJC,IAAG,yCAAoCtB,EAApC,iBACHuB,YAAa,IACbC,UAAW,KACXC,aAAc,IACdC,YAAa,MAEf,0BAAMZ,UAAWC,IAAOY,YACtB,kBAAC,IAAD,CAAOC,QAAQ,EAAMC,KAAM,OAAQhB,KAAM,YACzC,kBAAC,KAAD,GACEe,QAAQ,EACRE,QAASxB,EACTyB,MAAO,UAHT,wBAIU,GAJV,yBAKY1B,EAAS2B,QAAQ3B,EAAS4B,MAAK,SAACvB,GAAD,OAAOA,EAAEG,OAASX,OAL7D,mBAMM,YANN,IAQA,kBAAC,IAAD,CACEU,KAAM,iCACNsB,QAAS,SAACC,GACRA,EAAMC,iBACNnC,EACEkC,EAAME,OAAOC,cAAcC,SAA3B,QAA+CC,OAEjDrC,EACEgC,EAAME,OAAOC,cAAcC,SAA3B,SAAgDC,WAKxD,uBAAG1B,UAAWC,IAAO0B,MAArB,gSAIF,yBAAK3B,UAAWC,IAAO2B","file":"static/js/27.eabaae5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"searchPageWrap\":\"SearchPage_searchPageWrap__2ugD0\",\"rightBg\":\"SearchPage_rightBg__1jnto\",\"leftBg\":\"SearchPage_leftBg__36ncR\",\"searchPageContent\":\"SearchPage_searchPageContent__3XNtt\",\"searchTitle\":\"SearchPage_searchTitle__13dS9\",\"searchForm\":\"SearchPage_searchForm__2ApdA\",\"map\":\"SearchPage_map__2zHRi\",\"hint\":\"SearchPage_hint__Vt_iE\"};","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Input from \"../../components/Input/Input\";\r\nimport Select from \"../../components/Select/Select\";\r\nimport Button from \"../../components/Button/Button\";\r\n\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\n\r\nimport styles from \"./SearchPage.module.scss\";\r\n\r\nimport servs from \"../../pages/UserProfile/MasterServices/services.json\";\r\n\r\nconst SearchPage = () => {\r\n  const history = useHistory();\r\n  const [searchAddress, setSearchAddress] = useState(history.location.state.searchAddress || \"Украина, Харьков\");\r\n  const [searchCategory, setSearchCategory] = useState(history.location.state.searchCategory || '');\r\n  const [services, setServices] = useState(servs);\r\n  const { request } = useHttp();\r\n\r\n  // const fetchCategories = async () => {\r\n  //   try{\r\n  //     const response = await request(\r\n  //       \"/api/v1.0/services\", \"GET\", null, {}\r\n  //     );\r\n  //     if(response.status === 200) {\r\n  //       setServices(response);\r\n  //     }\r\n  //   }catch(error) {\r\n  //     console.log(error);\r\n  //   }\r\n  // }\r\n\r\n  const categories = services.map((s) => new Object({ text: s.name }));\r\n\r\n  return (\r\n    <div className={styles.searchPageWrap}>\r\n      <div className={styles.leftBg} />\r\n      <div className={styles.searchPageContent}>\r\n        <h2 className={styles.searchTitle}>Поиск</h2>\r\n        <iframe\r\n          title={\"searchResultsMap\"}\r\n          className={styles.map}\r\n          id={\"gmap_canvas\"}\r\n          src={`https://maps.google.com/maps?q=${searchAddress}&output=embed`}\r\n          frameborder={\"0\"}\r\n          scrolling={\"no\"}\r\n          marginheight={\"0\"}\r\n          marginwidth={\"0\"}\r\n        ></iframe>\r\n        <form className={styles.searchForm}>\r\n          <Input filled={true} type={\"text\"} name={\"address\"} />\r\n          <Select\r\n            filled={true}\r\n            options={categories}\r\n            theme={\"common\"}\r\n            filled={true}\r\n            selected={services.indexOf(services.find((s) => s.name === searchCategory))}\r\n            id={\"category\"}\r\n          />\r\n          <Button\r\n            text={\"поиск\"}\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setSearchAddress(\r\n                event.target.parentElement.elements[\"address\"].value\r\n              );\r\n              setSearchCategory(\r\n                event.target.parentElement.elements[\"category\"].value\r\n              );\r\n            }}\r\n          />\r\n        </form>\r\n        <p className={styles.hint}>\r\n          *используя карту Вы можете выбрать мастера поблизости\r\n        </p>\r\n      </div>\r\n      <div className={styles.rightBg} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n"],"sourceRoot":""}