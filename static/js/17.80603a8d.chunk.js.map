{"version":3,"sources":["pages/UserProfile/InvitePage/InvitePage.module.scss","pages/UserProfile/InvitePage/InvitePage.js","components/Button/Button.js","hooks/useHttp.js","components/Button/btn.module.scss","components/ProfileTitle/ProfileTitle.js","components/ProfileTitle/ProfileTitle.module.scss","components/Input/Input.js","components/Input/input.module.scss"],"names":["module","exports","InvitePage","useState","email","setEmail","emailError","setEmailError","buttonDisabled","setButtonDisabled","useContext","authContext","token","useHttp","request","loading","useEffect","sendInvitation","e","a","preventDefault","status","alert","console","log","title","subTitle","className","styles","block","header","form","placeholder","value","onChange","test","validateMail","target","error","text","disabled","onClick","Button","filled","type","disabledButton","loadingButton","filledButton","plainButton","setLoading","setError","useCallback","url","method","body","headers","presentation_link","fetch","JSON","stringify","response","json","data","ok","Error","message","clearError","ProfileTitle","titleWrap","Input","name","required","minLength","maxlength","visible","setVisible","inputWrap","id","maxLength","filledInput","seePassword","style","backgroundImage","inputError"],"mappings":"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","file":"static/js/17.80603a8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"block\":\"InvitePage_block__B4qS9\",\"header\":\"InvitePage_header__2AUzn\",\"form\":\"InvitePage_form__2bJth\"};","import React, { useContext, useEffect, useState } from \"react\";\r\nimport Button from \"../../../components/Button/Button\";\r\nimport Input from \"../../../components/Input/Input\";\r\nimport ProfileTitle from \"../../../components/ProfileTitle/ProfileTitle\";\r\nimport authContext from \"../../../context/auth.context\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\n\r\nimport styles from \"./InvitePage.module.scss\";\r\n\r\nconst InvitePage = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [buttonDisabled, setButtonDisabled] = useState(true);\r\n  const { token } = useContext(authContext);\r\n  const { request, loading } = useHttp();\r\n  useEffect(() => {\r\n    if (email !== \"\") {\r\n      setButtonDisabled(false);\r\n    } else {\r\n      setButtonDisabled(true);\r\n    }\r\n  }, [email]);\r\n\r\n  const validateMail = (email) => {\r\n    if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(email)) {\r\n      setEmailError(\"Некорректный e-mail\");\r\n    } else {\r\n      setEmailError(\"\");\r\n    }\r\n  };\r\n  const sendInvitation = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const response = await request(\"/api/v1.0/invite\", \"POST\", { email }, {});\r\n      if (response.status === 200) {\r\n        alert(\"Приглашение отправлено успешно!\");\r\n        setEmail(\"\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(error);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <ProfileTitle\r\n        title={\"Пригласить людей\"}\r\n        subTitle={\r\n          \"Если у вас есть прошлые клиенты, которых вы могли бы пригласить зарегистрироваться на этом сайте, то вы можете сделать это здесь.\"\r\n        }\r\n      />\r\n      <div className={styles.block}>\r\n        <h1 className={styles.header}>Отправить приглашения</h1>\r\n        <form className={styles.form}>\r\n          <Input\r\n            placeholder={\"Введите e-mail\"}\r\n            value={email}\r\n            onChange={(e) => {\r\n              validateMail(e.target.value);\r\n              setEmail(e.target.value);\r\n            }}\r\n            error={emailError}\r\n          />\r\n          <Button\r\n            text={\"Отправить приглашение\"}\r\n            disabled={!!emailError || buttonDisabled}\r\n            loading={loading}\r\n            onClick={sendInvitation}\r\n          />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvitePage;\r\n","import React from \"react\";\r\nimport styles from \"./btn.module.scss\";\r\n\r\nconst Button = ({\r\n  text,\r\n  filled = true,\r\n  onClick = () => true,\r\n  disabled = false,\r\n  type,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={\r\n        disabled\r\n          ? styles.disabledButton\r\n          : loading\r\n          ? styles.loadingButton\r\n          : filled\r\n          ? styles.filledButton\r\n          : styles.plainButton\r\n      }\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const request = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setLoading(true);\r\n      try {\r\n        if (body) {\r\n          headers[\"Content-Type\"] = \"application/json\";\r\n          headers[\"Accept\"] = \"application/json\";\r\n        }\r\n        const presentation_link = \"https://api.beautylinks.com\"; //  replace this with ngrok when nessesary\r\n        const response = await fetch(presentation_link + url, {\r\n          method,\r\n          body: body ? JSON.stringify(body) : null,\r\n          headers,\r\n        });\r\n        console.log(response);\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            data.message ||\r\n              \"Something went wrong. Check your internet connection.\"\r\n          );\r\n        }\r\n\r\n        setLoading(false);\r\n        return { ...data, status: response.status };\r\n      } catch (e) {\r\n        setLoading(false);\r\n        setError(e.message);\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  return { loading, request, error, clearError };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"filledButton\":\"btn_filledButton__2I0A7\",\"plainButton\":\"btn_plainButton__dNEOV\",\"loadingButton\":\"btn_loadingButton__2Nqzw\",\"disabledButton\":\"btn_disabledButton__2Adg1\"};","import React from \"react\";\r\n\r\nimport styles from \"./ProfileTitle.module.scss\";\r\n\r\nconst ProfileTitle = ({ title, subTitle }) => {\r\n  return (\r\n    <div className={styles.titleWrap}>\r\n      <h3 className={styles.title}>{title}</h3>\r\n      <h4 className={styles.subTitle}>{subTitle}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileTitle;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"break-xs\":\"560px\",\"break_sm\":\"576px\",\"break_md\":\"768px\",\"break_lg\":\"992px\",\"break_lm\":\"1100px\",\"break_xl\":\"1200px\",\"titleWrap\":\"ProfileTitle_titleWrap__sURJO\",\"title\":\"ProfileTitle_title__2dCYb\",\"subTitle\":\"ProfileTitle_subTitle__OBGgs\"};","import React, { useState } from \"react\";\r\nimport styles from \"./input.module.scss\";\r\n\r\nconst Input = ({\r\n  name,\r\n  type = \"text\",\r\n  required = false,\r\n  disabled = false,\r\n  minLength = 0,\r\n  maxlength = 200,\r\n  error = null,\r\n  value,\r\n  onChange,\r\n  placeholder = \"\",\r\n  filled = false,\r\n}) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.inputWrap}>\r\n      <input\r\n        placeholder={placeholder}\r\n        type={visible ? \"text\" : type}\r\n        id={name}\r\n        name={name}\r\n        minLength={minLength}\r\n        maxLength={maxlength}\r\n        required={required}\r\n        value={value}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        className={filled ? styles.filledInput : styles.Input}\r\n      />\r\n      {type === \"password\" && (\r\n        <div\r\n          className={styles.seePassword}\r\n          onClick={() => setVisible(!visible)}\r\n          style={\r\n            !visible\r\n              ? { backgroundImage: `url('/assets/img/icons/unvis.png')` }\r\n              : { backgroundImage: `url('/assets/img/icons/vis.png')` }\r\n          }\r\n        ></div>\r\n      )}\r\n      {error && <span className={styles.inputError}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"input_inputWrap__YFzyn\",\"Input\":\"input_Input__30CPJ\",\"filledInput\":\"input_filledInput__2GsRC\",\"inputError\":\"input_inputError__2REtn\",\"seePassword\":\"input_seePassword__2UZ2y\"};"],"sourceRoot":""}